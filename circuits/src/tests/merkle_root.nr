use crate::compute_and_verify_merkle_root;

#[test]
fn test_works_1() {
    let leaf= [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10];
    let leaf_index = 0;
    let merkle_path= [
        [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 97
        ], [
            54, 106, 123, 146, 172, 218, 54, 64, 134, 204, 153, 31, 97, 139, 249, 241, 11, 98, 158, 192, 247, 174, 148, 84, 63, 150, 182, 145, 182, 158, 201, 146
        ], [
            28, 160, 134, 78, 164, 57, 239, 57, 159, 50, 87, 88, 184, 250, 127, 153, 147, 243, 64, 124, 7, 43, 33, 184, 19, 54, 78, 203, 24, 38, 119, 85
        ], [
            33, 106, 151, 107, 254, 118, 12, 148, 29, 110, 170, 22, 195, 202, 133, 38, 180, 143, 227, 58, 94, 23, 42, 233, 186, 44, 239, 212, 111, 223, 198, 126
        ], [
            215, 252, 56, 246, 210, 249, 3, 194, 116, 188, 11, 248, 240, 232, 56, 132, 45, 232, 208, 21, 233, 104, 16, 112, 82, 126, 222, 103, 87, 53, 24, 52
        ], [
            127, 110, 130, 169, 79, 116, 10, 180, 53, 114, 101, 164, 57, 97, 163, 70, 100, 160, 161, 36, 53, 201, 130, 60, 131, 50, 164, 83, 187, 253, 151, 10
        ]
    ];
    let hash= [
        64, 218, 150, 223, 213, 19, 176, 127, 39, 19, 198, 32, 222, 102, 59, 22, 221, 142, 52, 223, 180, 33, 215, 46, 170, 163, 109, 213, 140, 124, 20, 142
    ];
    compute_and_verify_merkle_root(leaf, leaf_index, merkle_path, hash);
}

#[test]
fn test_works_2() {
    let leaf= [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25];
    let leaf_index = 15;
    let merkle_path= [
        [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25
        ], [
            173, 50, 40, 182, 118, 247, 211, 205, 66, 132, 165, 68, 63, 23, 241, 150, 43, 54, 228, 145, 179, 10, 64, 178, 64, 88, 73, 229, 151, 186, 95, 181
        ], [
            126, 255, 76, 231, 33, 158, 54, 163, 74, 59, 36, 135, 165, 33, 126, 128, 121, 231, 178, 44, 243, 145, 239, 6, 88, 78, 103, 218, 244, 90, 24, 248
        ], [
            54, 188, 44, 93, 17, 164, 12, 224, 105, 112, 185, 151, 105, 234, 33, 107, 174, 141, 176, 163, 57, 8, 87, 144, 174, 169, 14, 243, 146, 243, 215, 50
        ], [
            215, 252, 56, 246, 210, 249, 3, 194, 116, 188, 11, 248, 240, 232, 56, 132, 45, 232, 208, 21, 233, 104, 16, 112, 82, 126, 222, 103, 87, 53, 24, 52
        ], [
            127, 110, 130, 169, 79, 116, 10, 180, 53, 114, 101, 164, 57, 97, 163, 70, 100, 160, 161, 36, 53, 201, 130, 60, 131, 50, 164, 83, 187, 253, 151, 10
        ]
    ];
    let hash= [
        64, 218, 150, 223, 213, 19, 176, 127, 39, 19, 198, 32, 222, 102, 59, 22, 221, 142, 52, 223, 180, 33, 215, 46, 170, 163, 109, 213, 140, 124, 20, 142
    ];
    compute_and_verify_merkle_root(leaf, leaf_index, merkle_path, hash);
}

#[test(should_fail)]
fn test_fails() {
    // Did a very minor change in merkle path and it should fail
    let leaf= [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25];
    let leaf_index = 15;
    let merkle_path= [
        [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25
        ], [
            173, 50, 40, 182, 118, 247, 211, 205, 66, 132, 165, 68, 63, 23, 241, 150, 43, 54, 228, 145, 179, 10, 64, 178, 64, 88, 73, 229, 151, 186, 95, 181
        ], [
            126, 255, 76, 231, 33, 158, 54, 163, 74, 59, 36, 135, 165, 33, 126, 128, 121, 231, 178, 44, 243, 145, 239, 6, 88, 78, 103, 218, 244, 90, 24, 248
        ], [
            54, 188, 44, 93, 17, 164, 12, 224, 105, 112, 185, 151, 105, 234, 33, 107, 174, 141, 176, 163, 57, 8, 87, 144, 174, 169, 14, 243, 146, 243, 215, 50
        ], [
            215, 252, 56, 246, 210, 249, 3, 194, 116, 188, 11, 248, 240, 232, 56, 132, 45, 232, 208, 21, 233, 104, 16, 112, 82, 126, 222, 103, 87, 53, 24, 52
        ], [
            127, 110, 130, 169, 79, 11, 10, 180, 53, 114, 101, 164, 57, 97, 163, 70, 100, 160, 161, 36, 53, 201, 130, 60, 131, 50, 164, 83, 187, 253, 151, 10
        ]
    ];
    let hash= [
        64, 218, 150, 223, 213, 19, 176, 127, 39, 19, 198, 32, 222, 102, 59, 22, 221, 142, 52, 223, 180, 33, 215, 46, 170, 163, 109, 213, 140, 124, 20, 142
    ];
    compute_and_verify_merkle_root(leaf, leaf_index, merkle_path, hash);
}

